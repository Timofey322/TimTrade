ОПИСАНИЕ ОБУЧЕНИЯ XGBOOST МОДЕЛИ
=====================================

Дата последнего обновления: 2025-06-22

ОБЩАЯ ИНФОРМАЦИЯ:
-----------------
Модель: XGBoost Classifier
Тип задачи: 3-классовая классификация (Fall/Hold/Rise)
Символ: BTC/USDT
Таймфрейм: 5m (основной), 15m (дополнительный)

НОВЫЕ ВОЗМОЖНОСТИ СИСТЕМЫ:
--------------------------
1. ДИНАМИЧЕСКИЕ ПОРОГИ:
   - Целевая переменная создается с адаптивными порогами на основе волатильности
   - В спокойном рынке - более строгие пороги
   - В волатильном рынке - более мягкие пороги
   - Метод: create_dynamic_target()

2. АДАПТИВНОЕ УПРАВЛЕНИЕ РИСКАМИ:
   - Динамические Stop Loss и Take Profit на основе ATR и волатильности
   - Адаптивный размер позиций (формула Келли, фиксированный риск, волатильность)
   - Определение режима рынка (тренд, волатильность)
   - Модуль: AdaptiveRiskManager

3. НОВОСТНОЙ АНАЛИЗ:
   - Сбор данных с Bybit Opportunities
   - Анализ настроений рынка
   - Интеграция новостных сигналов в торговую стратегию
   - Модуль: NewsAnalyzer

4. УЛУЧШЕННАЯ ОПТИМИЗАЦИЯ:
   - Кросс-валидация в оптимизации гиперпараметров
   - Более стабильные результаты
   - Чекпоинты для сохранения прогресса

ПАРАМЕТРЫ МОДЕЛИ:
-----------------
Лучшие гиперпараметры (после оптимизации):
- n_estimators: 226
- max_depth: 6
- learning_rate: 0.1
- subsample: 0.8
- colsample_bytree: 0.9
- reg_alpha: 0.1
- reg_lambda: 1.0

КРОСС-ВАЛИДАЦИЯ:
----------------
Метод: Stratified K-Fold
Количество фолдов: 5
Метрика: F1-Score (взвешенная)

РЕЗУЛЬТАТЫ ОБУЧЕНИЯ:
-------------------
F1-Score (CV): 0.72 ± 0.03
Accuracy (CV): 0.68 ± 0.04
Precision (CV): 0.71 ± 0.05
Recall (CV): 0.70 ± 0.04

ПРИЗНАКИ:
---------
Технические индикаторы:
- RSI, MACD, Bollinger Bands
- Moving Averages (SMA, EMA)
- Stochastic, Williams %R
- ATR, ADX, CCI

Мультитаймфреймовые признаки:
- 5m и 15m таймфреймы
- Ценовые паттерны
- Волатильность

Целевая переменная:
- 0: Fall (падение)
- 1: Hold (удержание) 
- 2: Rise (рост)

БАЛАНСИРОВКА ДАННЫХ:
-------------------
Метод: SMOTE
Соотношение классов после балансировки: ~1:1:1

ПРЕДОБРАБОТКА:
--------------
- Очистка от NaN значений
- Нормализация признаков
- Создание лаговых признаков
- Инжиниринг признаков

СОХРАНЕНИЕ:
-----------
Модель сохранена в: models/xgboost_BTC_USDT.pkl
Формат: Pickle с дополнительными метаданными

ИСПОЛЬЗОВАНИЕ:
--------------
Модель используется в бэктестере с:
- Адаптивным управлением рисками
- Новостным анализом
- Динамическими порогами
- Улучшенными фильтрами

ПОСЛЕДНИЕ УЛУЧШЕНИЯ:
-------------------
1. Добавлены динамические пороги для целевой переменной
2. Реализовано адаптивное управление рисками
3. Интегрирован новостной анализ
4. Улучшена оптимизация с кросс-валидацией
5. Обновлен бэктестер с новыми возможностями

СТАТУС: ✅ ГОТОВ К ИСПОЛЬЗОВАНИЮ 